# This example simulates the Rayleigh Taylor Instability.
# Heavier, smaller particles are placed on top of lighter, larger particles.
# Over the course of the simulation, the particle types switch position.
#
# This has been shown to result in "interesting" auto-tuning.
# There is no guarentee that this will always occur.
#
# This is the setup which has been show to result in "interesting" auto-tuning:
# - Commit: a53d2bc. As AutoPas develops, relative performances can change.
# - Compiler gcc 13.2.0
# - Computer: HSUper. Features compute nodes with 2 Intel Icelake sockets, each with a Intel(R) Xeon (R) Platinum 8360Y Processor with 36 cores. Relative performances can change depending on machine.
# - MPI/OpenMP Setup: 2 nodes, each with 2 MPI ranks, each with 36 OpenMP processes.
#
# This leads to 4 ranks stacked up on top of each other, each with their own AutoPas container.
# With the above setup, the bottom three ranks always use LC_C08_SoA_N3Enabled.
# The bottom two switch from CSF 1 to 0.5 as their large particles are replaced by smaller particles. (More particles per volume)
# The rank above switches the other way.
# The top rank follows less of a pattern, but frequently chooses some VLC algorithm.

functor: Lennard-Jones (12-6) AVX
cutoff: 3
cutoffs: [ 1.5, 3 ]
verlet-skin-radius: 0.6
verlet-rebuild-frequency: 600
deltaT: 0
iterations: 400000
boundary-type: [ periodic, periodic, reflective ]
globalForce: [ 0, 0, -12.44 ]
data-layout: [ SoA ]
traversal:
  [
#     hgrid_test2
    lc_c08, hgrid_color_c04_HCP, hgrid_test, hgrid_test2,
    hgrid_color,
    hgrid_color_soa_cell
  ]
newton3: [ enabled ]
cell-size: [ 0.5, 1 ]
tuning-interval: 100
tuning-samples: 5
Sites:
  0:
    epsilon: 1.
    sigma: 1.
    mass: 1.
  1:
    epsilon: 1.
    sigma: 0.5
    mass: 2.
Objects:
  CubeClosestPacked:
    0:
      particle-type-id: 0
      box-length: [ 40, 40, 20 ]
      particle-spacing: 0.56
      bottomLeftCorner: [ 0, 0, 0 ]
      velocity: [ 0, 0, 0 ]
    1:
      particle-type-id: 1
      box-length: [ 40, 40, 20 ]
      particle-spacing: 0.56125
      bottomLeftCorner: [ 0, 0, 0 ]
      velocity: [ 0, 0, 0 ]
thermostat:
  initialTemperature: 40
  targetTemperature: 40
  deltaTemperature: 2
  thermostatInterval: 1000
  addBrownianMotion: true
load-balancer: InvertedPressure
load-balancing-interval: 10000
subdivide-dimension: [ false, false, true ]
no-progress-bar: true
fastParticlesThrow: true
